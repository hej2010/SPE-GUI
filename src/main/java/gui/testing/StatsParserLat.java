package gui.testing;

import java.util.Collections;
import java.util.LinkedList;
import java.util.List;

public class StatsParserLat {
    public static void main(String[] args) {
        long latTotal = 0, latMax = -1, latMin = 1000000000000L;
        int max = 60;
        List<Long> all = new LinkedList<>();
        int count = 0;
        for (String line : s.split("\n")) {
            if (count >= max) {
                break;
            }
            if (line.startsWith(",")) {
                continue;
            }
            String[] data = line.split(",", 3);
            long start = Long.parseLong(data[1].trim());
            long end = Long.parseLong(data[2].trim());
            long diff = end - start;
            latTotal += diff;
            all.add(diff);
            if (diff > latMax) {
                latMax = diff;
            }
            if (diff < latMin) {
                latMin = diff;
            }
            count++;
        }
        Collections.sort(all);
        long avgLat = latTotal / count;
        System.out.println("avg " + avgLat / 1000000.0);
        System.out.println("min " + latMin / 1000000.0);
        System.out.println("max " + latMax / 1000000.0);
        System.out.println("med " + all.get(count / 2) / 1000000.0);
        System.out.println("readings: " + count);
    }

    static String s = ",4699627440400\n" +
            "r,4699629361600,4699646847400\n" +
            ",4700640560000\n" +
            "r,4700643931400,4700644143500\n" +
            ",4701637841300\n" +
            "r,4701646641200,4701646991300\n" +
            ",4702638554200\n" +
            "r,4702649378900,4702653301600\n" +
            ",4703639346400\n" +
            "r,4703651729600,4703652831000\n" +
            ",4704640196100\n" +
            "r,4704653143600,4704653933900\n" +
            ",4705642489600\n" +
            "r,4705654348200,4705654610200\n" +
            ",4706644096600\n" +
            "r,4706655910800,4706656142300\n" +
            ",4707646566600\n" +
            "r,4707656615000,4707656985900\n" +
            ",4708647336000\n" +
            "r,4708657721700,4708660403700\n" +
            ",4709647536700\n" +
            "r,4709659035400,4709660512700\n" +
            ",4710649431500\n" +
            "r,4710662133900,4710662344400\n" +
            ",4711653101000\n" +
            "r,4711666124500,4711666371300\n" +
            ",4712657259900\n" +
            "r,4712667239900,4712668848400\n" +
            ",4713663760300\n" +
            "r,4713668585700,4713671449500\n" +
            ",4714661487300\n" +
            "r,4714672340500,4714674533600\n" +
            ",4715664526600\n" +
            "r,4715675642400,4715680716800\n" +
            ",4716668530500\n" +
            "r,4716680229600,4716680633200\n" +
            ",4717666778600\n" +
            "r,4717681338400,4717681594000\n" +
            ",4718669585700\n" +
            "r,4718682881700,4718685828800\n" +
            ",4719667917300\n" +
            "r,4719683575800,4719683822200\n" +
            ",4720669110300\n" +
            "r,4720686096100,4720686373000\n" +
            ",4721671471300\n" +
            "r,4721687680600,4721687975300\n" +
            ",4722673206200\n" +
            "r,4722689008400,4722689354000\n" +
            ",4723680585200\n" +
            "r,4723691066600,4723691359400\n" +
            ",4724677735900\n" +
            "r,4724693601300,4724693859100\n" +
            ",4725684378800\n" +
            "r,4725696365100,4725696632900\n" +
            ",4726685471800\n" +
            "r,4726700231300,4726700627600\n" +
            ",4727685377200\n" +
            "r,4727701007200,4727701278800\n" +
            ",4728687472100\n" +
            "r,4728702633200,4728702864400\n" +
            ",4729692924000\n" +
            "r,4729703861600,4729704426300\n" +
            ",4730691562400\n" +
            "r,4730704691900,4730704977200\n" +
            ",4731694476100\n" +
            "r,4731705738100,4731705973600\n" +
            ",4732694921200\n" +
            "r,4732707318600,4732707547000\n" +
            ",4733695854200\n" +
            "r,4733709313700,4733709498500\n" +
            ",4734701186700\n" +
            "r,4734711878300,4734712086200\n" +
            ",4735699275900\n" +
            "r,4735713204800,4735713455000\n" +
            ",4736701487600\n" +
            "r,4736714816900,4736715013700\n" +
            ",4737703373200\n" +
            "r,4737717309600,4737717504500\n" +
            ",4738704486900\n" +
            "r,4738718120300,4738718322700\n" +
            ",4739709666300\n" +
            "r,4739719931200,4739720150800\n" +
            ",4740708890000\n" +
            "r,4740722749700,4740723002300\n" +
            ",4741710675400\n" +
            "r,4741724125000,4741724327900\n" +
            ",4742712318900\n" +
            "r,4742727245600,4742727436900\n" +
            ",4743714058400\n" +
            "r,4743728532200,4743729198500\n" +
            ",4744718878400\n" +
            "r,4744730677400,4744730855600\n" +
            ",4745718324800\n" +
            "r,4745733194800,4745733480900\n" +
            ",4746719828700\n" +
            "r,4746733959700,4746734208500\n" +
            ",4747721590100\n" +
            "r,4747734967200,4747735163200\n" +
            ",4748720880800\n" +
            "r,4748736743400,4748737285400\n" +
            ",4749725236600\n" +
            "r,4749737959400,4749738135400\n" +
            ",4750723641200\n" +
            "r,4750738588300,4750738859500\n" +
            ",4751725510400\n" +
            "r,4751740977700,4751741188100\n" +
            ",4752726249000\n" +
            "r,4752742208200,4752742555900\n" +
            ",4753730091300\n" +
            "r,4753744025600,4753744236300\n" +
            ",4754733260900\n" +
            "r,4754747044900,4754747304700\n" +
            ",4755733283700\n" +
            "r,4755748618300,4755748793100\n" +
            ",4756735077800\n" +
            "r,4756749879400,4756750092300\n" +
            ",4757736180100\n" +
            "r,4757751994200,4757752156300\n" +
            ",4758737482800\n" +
            "r,4758758238600,4758758461400\n" +
            ",4759742719000\n" +
            "r,4759761427700,4759761634300\n" +
            ",4760743288100\n" +
            "r,4760762783600,4760762967300\n" +
            ",4761744871600\n" +
            "r,4761764207800,4761764406900\n" +
            ",4762750058100\n" +
            "r,4762765932400,4762766138200\n" +
            ",4763750013300\n" +
            "r,4763768630000,4763768808200";
}
